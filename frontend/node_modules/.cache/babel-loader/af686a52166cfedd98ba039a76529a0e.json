{"ast":null,"code":"import _slicedToArray from \"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useOpenState } from './useOpenState';\nimport { useUtils } from './useUtils';\nexport var usePickerState = function usePickerState(props, valueManager) {\n  var disableCloseOnSelect = props.disableCloseOnSelect,\n      onAccept = props.onAccept,\n      onChange = props.onChange,\n      value = props.value;\n  var utils = useUtils();\n\n  var _useOpenState = useOpenState(props),\n      isOpen = _useOpenState.isOpen,\n      setIsOpen = _useOpenState.setIsOpen;\n\n  function initDraftableDate(date) {\n    return {\n      committed: date,\n      draft: date\n    };\n  }\n\n  var parsedDateValue = valueManager.parseInput(utils, value);\n\n  var _React$useReducer = React.useReducer(function (state, action) {\n    switch (action.type) {\n      case 'reset':\n        return initDraftableDate(action.payload);\n\n      case 'update':\n        return _extends({}, state, {\n          draft: action.payload\n        });\n\n      default:\n        return state;\n    }\n  }, parsedDateValue, initDraftableDate),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      draftState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  if (!valueManager.areValuesEqual(utils, draftState.committed, parsedDateValue)) {\n    dispatch({\n      type: 'reset',\n      payload: parsedDateValue\n    });\n  }\n\n  var _React$useState = React.useState(draftState.committed),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      initialDate = _React$useState2[0],\n      setInitialDate = _React$useState2[1]; // Mobile keyboard view is a special case.\n  // When it's open picker should work like closed, cause we are just showing text field\n\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      isMobileKeyboardViewOpen = _React$useState4[0],\n      setMobileKeyboardViewOpen = _React$useState4[1];\n\n  var acceptDate = React.useCallback(function (acceptedDate, needClosePicker) {\n    onChange(acceptedDate);\n\n    if (needClosePicker) {\n      setIsOpen(false);\n      setInitialDate(acceptedDate);\n\n      if (onAccept) {\n        onAccept(acceptedDate);\n      }\n    }\n  }, [onAccept, onChange, setIsOpen]);\n  var wrapperProps = React.useMemo(function () {\n    return {\n      open: isOpen,\n      onClear: function onClear() {\n        return acceptDate(valueManager.emptyValue, true);\n      },\n      onAccept: function onAccept() {\n        return acceptDate(draftState.draft, true);\n      },\n      onDismiss: function onDismiss() {\n        return acceptDate(initialDate, true);\n      },\n      onSetToday: function onSetToday() {\n        var now = utils.date();\n        dispatch({\n          type: 'update',\n          payload: now\n        });\n        acceptDate(now, !disableCloseOnSelect);\n      }\n    };\n  }, [acceptDate, disableCloseOnSelect, isOpen, utils, draftState.draft, valueManager.emptyValue, initialDate]);\n  var pickerProps = React.useMemo(function () {\n    return {\n      date: draftState.draft,\n      isMobileKeyboardViewOpen: isMobileKeyboardViewOpen,\n      toggleMobileKeyboardView: function toggleMobileKeyboardView() {\n        return setMobileKeyboardViewOpen(!isMobileKeyboardViewOpen);\n      },\n      onDateChange: function onDateChange(newDate, wrapperVariant) {\n        var selectionState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'partial';\n        dispatch({\n          type: 'update',\n          payload: newDate\n        });\n\n        if (selectionState === 'partial') {\n          acceptDate(newDate, false);\n        }\n\n        if (selectionState === 'finish') {\n          var shouldCloseOnSelect = !(disableCloseOnSelect != null ? disableCloseOnSelect : wrapperVariant === 'mobile');\n          acceptDate(newDate, shouldCloseOnSelect);\n        } // if selectionState === \"shallow\" do nothing (we already update the draft state)\n\n      }\n    };\n  }, [acceptDate, disableCloseOnSelect, isMobileKeyboardViewOpen, draftState.draft]);\n  var inputProps = React.useMemo(function () {\n    return {\n      onChange: onChange,\n      open: isOpen,\n      rawValue: value,\n      openPicker: function openPicker() {\n        return setIsOpen(true);\n      }\n    };\n  }, [onChange, isOpen, value, setIsOpen]);\n  var pickerState = {\n    pickerProps: pickerProps,\n    inputProps: inputProps,\n    wrapperProps: wrapperProps\n  };\n  React.useDebugValue(pickerState, function () {\n    return {\n      MuiPickerState: {\n        pickerDraft: draftState,\n        other: pickerState\n      }\n    };\n  });\n  return pickerState;\n};","map":{"version":3,"names":["_extends","React","useOpenState","useUtils","usePickerState","props","valueManager","disableCloseOnSelect","onAccept","onChange","value","utils","isOpen","setIsOpen","initDraftableDate","date","committed","draft","parsedDateValue","parseInput","useReducer","state","action","type","payload","draftState","dispatch","areValuesEqual","useState","initialDate","setInitialDate","isMobileKeyboardViewOpen","setMobileKeyboardViewOpen","acceptDate","useCallback","acceptedDate","needClosePicker","wrapperProps","useMemo","open","onClear","emptyValue","onDismiss","onSetToday","now","pickerProps","toggleMobileKeyboardView","onDateChange","newDate","wrapperVariant","selectionState","shouldCloseOnSelect","inputProps","rawValue","openPicker","pickerState","useDebugValue","MuiPickerState","pickerDraft","other"],"sources":["/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/frontend/node_modules/@mui/lab/node_modules/@mui/x-date-pickers/internals/hooks/usePickerState.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useOpenState } from './useOpenState';\nimport { useUtils } from './useUtils';\nexport const usePickerState = (props, valueManager) => {\n  const {\n    disableCloseOnSelect,\n    onAccept,\n    onChange,\n    value\n  } = props;\n  const utils = useUtils();\n  const {\n    isOpen,\n    setIsOpen\n  } = useOpenState(props);\n\n  function initDraftableDate(date) {\n    return {\n      committed: date,\n      draft: date\n    };\n  }\n\n  const parsedDateValue = valueManager.parseInput(utils, value);\n  const [draftState, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'reset':\n        return initDraftableDate(action.payload);\n\n      case 'update':\n        return _extends({}, state, {\n          draft: action.payload\n        });\n\n      default:\n        return state;\n    }\n  }, parsedDateValue, initDraftableDate);\n\n  if (!valueManager.areValuesEqual(utils, draftState.committed, parsedDateValue)) {\n    dispatch({\n      type: 'reset',\n      payload: parsedDateValue\n    });\n  }\n\n  const [initialDate, setInitialDate] = React.useState(draftState.committed); // Mobile keyboard view is a special case.\n  // When it's open picker should work like closed, cause we are just showing text field\n\n  const [isMobileKeyboardViewOpen, setMobileKeyboardViewOpen] = React.useState(false);\n  const acceptDate = React.useCallback((acceptedDate, needClosePicker) => {\n    onChange(acceptedDate);\n\n    if (needClosePicker) {\n      setIsOpen(false);\n      setInitialDate(acceptedDate);\n\n      if (onAccept) {\n        onAccept(acceptedDate);\n      }\n    }\n  }, [onAccept, onChange, setIsOpen]);\n  const wrapperProps = React.useMemo(() => ({\n    open: isOpen,\n    onClear: () => acceptDate(valueManager.emptyValue, true),\n    onAccept: () => acceptDate(draftState.draft, true),\n    onDismiss: () => acceptDate(initialDate, true),\n    onSetToday: () => {\n      const now = utils.date();\n      dispatch({\n        type: 'update',\n        payload: now\n      });\n      acceptDate(now, !disableCloseOnSelect);\n    }\n  }), [acceptDate, disableCloseOnSelect, isOpen, utils, draftState.draft, valueManager.emptyValue, initialDate]);\n  const pickerProps = React.useMemo(() => ({\n    date: draftState.draft,\n    isMobileKeyboardViewOpen,\n    toggleMobileKeyboardView: () => setMobileKeyboardViewOpen(!isMobileKeyboardViewOpen),\n    onDateChange: (newDate, wrapperVariant, selectionState = 'partial') => {\n      dispatch({\n        type: 'update',\n        payload: newDate\n      });\n\n      if (selectionState === 'partial') {\n        acceptDate(newDate, false);\n      }\n\n      if (selectionState === 'finish') {\n        const shouldCloseOnSelect = !(disableCloseOnSelect != null ? disableCloseOnSelect : wrapperVariant === 'mobile');\n        acceptDate(newDate, shouldCloseOnSelect);\n      } // if selectionState === \"shallow\" do nothing (we already update the draft state)\n\n    }\n  }), [acceptDate, disableCloseOnSelect, isMobileKeyboardViewOpen, draftState.draft]);\n  const inputProps = React.useMemo(() => ({\n    onChange,\n    open: isOpen,\n    rawValue: value,\n    openPicker: () => setIsOpen(true)\n  }), [onChange, isOpen, value, setIsOpen]);\n  const pickerState = {\n    pickerProps,\n    inputProps,\n    wrapperProps\n  };\n  React.useDebugValue(pickerState, () => ({\n    MuiPickerState: {\n      pickerDraft: draftState,\n      other: pickerState\n    }\n  }));\n  return pickerState;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}