{"ast":null,"code":"import{Doughnut}from'react-chartjs-2';import{Box,Card,CardContent,CardHeader,Divider,Typography,useTheme}from'@mui/material';import LaptopMacIcon from'@mui/icons-material/LaptopMac';import PhoneIcon from'@mui/icons-material/Phone';import TabletIcon from'@mui/icons-material/Tablet';import PieChart from'../../common/MonthlyPieChart';import UserContext from'../../auth/UserContext';import React,{useState,useEffect,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Pie(){var theme=useTheme();var data={datasets:[{data:[63,15,22],backgroundColor:['#3F51B5','#e53935','#FB8C00'],borderWidth:8,borderColor:'#FFFFFF',hoverBorderColor:'#FFFFFF'}],labels:['Desktop','Tablet','Mobile']};var options={animation:false,cutoutPercentage:80,layout:{padding:0},legend:{display:false},maintainAspectRatio:false,responsive:true,tooltips:{backgroundColor:theme.palette.background.paper,bodyFontColor:theme.palette.text.secondary,borderColor:theme.palette.divider,borderWidth:1,enabled:true,footerFontColor:theme.palette.text.secondary,intersect:false,mode:'index',titleFontColor:theme.palette.text.primary}};var devices=[{title:'Desktop',value:63,icon:LaptopMacIcon,color:'#3F51B5'},{title:'Tablet',value:15,icon:TabletIcon,color:'#E53935'},{title:'Mobile',value:23,icon:PhoneIcon,color:'#FB8C00'}];var newDate=new Date();var month=newDate.getMonth()+1;var year=newDate.getFullYear();var _useContext=useContext(UserContext),currentUser=_useContext.currentUser,setCurrentUser=_useContext.setCurrentUser;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Traffic by Device\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Box,{sx:{height:300,position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{style:{},children:/*#__PURE__*/_jsx(PieChart,{username:currentUser.user.username,year:year,month:month})})}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',pt:2},children:devices.map(function(_ref){var color=_ref.color,Icon=_ref.icon,title=_ref.title,value=_ref.value;return/*#__PURE__*/_jsxs(Box,{sx:{p:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(Icon,{color:\"action\"}),/*#__PURE__*/_jsx(Typography,{color:\"textPrimary\",variant:\"body1\",children:title}),/*#__PURE__*/_jsxs(Typography,{style:{color:color},variant:\"h4\",children:[value,\"%\"]})]},title);})})]})]});};export default Pie;","map":{"version":3,"names":["Doughnut","Box","Card","CardContent","CardHeader","Divider","Typography","useTheme","LaptopMacIcon","PhoneIcon","TabletIcon","PieChart","UserContext","React","useState","useEffect","useContext","Pie","theme","data","datasets","backgroundColor","borderWidth","borderColor","hoverBorderColor","labels","options","animation","cutoutPercentage","layout","padding","legend","display","maintainAspectRatio","responsive","tooltips","palette","background","paper","bodyFontColor","text","secondary","divider","enabled","footerFontColor","intersect","mode","titleFontColor","primary","devices","title","value","icon","color","newDate","Date","month","getMonth","year","getFullYear","currentUser","setCurrentUser","height","position","user","username","justifyContent","pt","map","Icon","p","textAlign"],"sources":["/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/src/MUI/DashBoard/Piechart.js"],"sourcesContent":["\nimport { Doughnut } from 'react-chartjs-2';\nimport { Box, Card, CardContent, CardHeader, Divider, Typography, useTheme } from '@mui/material';\nimport LaptopMacIcon from '@mui/icons-material/LaptopMac';\nimport PhoneIcon from '@mui/icons-material/Phone';\nimport TabletIcon from '@mui/icons-material/Tablet';\nimport PieChart from '../../common/MonthlyPieChart';\nimport UserContext from '../../auth/UserContext';\nimport React, {useState,useEffect,useContext} from 'react';\n\n\nfunction Pie () {\n  const theme = useTheme();\n\n  const data = {\n    datasets: [\n      {\n        data: [63, 15, 22],\n        backgroundColor: ['#3F51B5', '#e53935', '#FB8C00'],\n        borderWidth: 8,\n        borderColor: '#FFFFFF',\n        hoverBorderColor: '#FFFFFF'\n      }\n    ],\n    labels: ['Desktop', 'Tablet', 'Mobile']\n  };\n\n  const options = {\n    animation: false,\n    cutoutPercentage: 80,\n    layout: { padding: 0 },\n    legend: {\n      display: false\n    },\n    maintainAspectRatio: false,\n    responsive: true,\n    tooltips: {\n      backgroundColor: theme.palette.background.paper,\n      bodyFontColor: theme.palette.text.secondary,\n      borderColor: theme.palette.divider,\n      borderWidth: 1,\n      enabled: true,\n      footerFontColor: theme.palette.text.secondary,\n      intersect: false,\n      mode: 'index',\n      titleFontColor: theme.palette.text.primary\n    }\n  };\n\n  const devices = [\n    {\n      title: 'Desktop',\n      value: 63,\n      icon: LaptopMacIcon,\n      color: '#3F51B5'\n    },\n    {\n      title: 'Tablet',\n      value: 15,\n      icon: TabletIcon,\n      color: '#E53935'\n    },\n    {\n      title: 'Mobile',\n      value: 23,\n      icon: PhoneIcon,\n      color: '#FB8C00'\n    }\n  ];\n  let newDate = new Date;\n\n  let month = newDate.getMonth()+1;\n  let year = newDate.getFullYear();\n  const {currentUser, setCurrentUser} = useContext(UserContext);\n\n\n  return (\n    <Card >\n      <CardHeader title=\"Traffic by Device\" />\n      <Divider />\n      <CardContent>\n        <Box\n          sx={{\n            height: 300,\n            position: 'relative'\n          }}\n        >\n          {/* <Doughnut\n            data={data}\n            options={options}\n          /> */}\n          <div style={{}}><PieChart username={currentUser.user.username} year={year} month={month}/></div>\n        </Box>\n        <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center',\n            pt: 2\n          }}\n        >\n          {devices.map(({\n            color,\n            icon: Icon,\n            title,\n            value\n          }) => (\n            <Box\n              key={title}\n              sx={{\n                p: 1,\n                textAlign: 'center'\n              }}\n            >\n              <Icon color=\"action\" />\n              <Typography\n                color=\"textPrimary\"\n                variant=\"body1\"\n              >\n                {title}\n              </Typography>\n              <Typography\n                style={{ color }}\n                variant=\"h4\"\n              >\n                {value}\n                %\n              </Typography>\n            </Box>\n          ))}\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Pie;"],"mappings":"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"},"metadata":{},"sourceType":"module"}