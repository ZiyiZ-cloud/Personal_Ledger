{"ast":null,"code":"var _jsxFileName = \"/Users/ziyizhang/Desktop/springboard/personal-ledger/fronend/src/auth/SignupForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\n/** Signup form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n *\n * Routes -> SignupForm -> Alert\n * Routed as /signup\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignupForm(_ref) {\n  _s();\n\n  let {\n    signup\n  } = _ref;\n  const history = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\"\n  });\n  const [formErrors, setFormErrors] = useState([]);\n  console.debug(\"SignupForm\", \"signup=\", typeof signup, \"formData=\", formData, \"formErrors=\", formErrors);\n  /** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n\n    if (result.success) {\n      history(\"/profile\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n  /** Update form data field */\n\n\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(data => ({ ...data,\n      [name]: value\n    }));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SignupForm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-3\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"username\",\n                className: \"form-control\",\n                value: formData.username,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                className: \"form-control\",\n                value: formData.password,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"First name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"first_name\",\n                className: \"form-control\",\n                value: formData.firstName,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Last name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"last_name\",\n                className: \"form-control\",\n                value: formData.lastName,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                className: \"form-control\",\n                value: formData.email,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), formErrors.length ? /*#__PURE__*/_jsxDEV(Alert, {\n              type: \"danger\",\n              messages: formErrors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 23\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary float-right\",\n              onSubmit: handleSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n}\n\n_s(SignupForm, \"UjQFFWuFoLhyZRX8UxUtw4UZZI4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"names":["React","useState","useNavigate","Alert","SignupForm","signup","history","formData","setFormData","username","password","first_name","last_name","email","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","errors","handleChange","name","value","target","data","firstName","lastName","length"],"sources":["/Users/ziyizhang/Desktop/springboard/personal-ledger/fronend/src/auth/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\n\n\n/** Signup form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls signup function prop\n * - redirects to /companies route\n *\n * Routes -> SignupForm -> Alert\n * Routed as /signup\n */\n\nfunction SignupForm({ signup }) {\n  const history = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"SignupForm\",\n      \"signup=\", typeof signup,\n      \"formData=\", formData,\n      \"formErrors=\", formErrors,\n  );\n\n  /** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    let result = await signup(formData);\n    if (result.success) {\n      history(\"/profile\");\n    } else {\n      setFormErrors(result.errors);\n    }\n  }\n\n  /** Update form data field */\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(data => ({ ...data, [name]: value }));\n  }\n\n  return (\n      <div className=\"SignupForm\">\n        <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n          <h2 className=\"mb-3\">Sign Up</h2>\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>First name</label>\n                  <input\n                      name=\"first_name\"\n                      className=\"form-control\"\n                      value={formData.firstName}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Last name</label>\n                  <input\n                      name=\"last_name\"\n                      className=\"form-control\"\n                      value={formData.lastName}\n                      onChange={handleChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Email</label>\n                  <input\n                      type=\"email\"\n                      name=\"email\"\n                      className=\"form-control\"\n                      value={formData.email}\n                      onChange={handleChange}\n                  />\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null\n                }\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}\n                >\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default SignupForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}