{"ast":null,"code":"import _asyncToGenerator from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useContext}from'react';import ExpenseCard from'./ExpenseCard';import{Box,Button,Card,CardHeader,Table,TableBody,TableCell,TableHead,TableRow,TableSortLabel,Tooltip}from'@mui/material';import UserContext from'../auth/UserContext';import LedgerApi from'../Api/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ExpenseCardList(_ref){var expenses=_ref.expenses;var _useContext=useContext(UserContext),currentUser=_useContext.currentUser,setCurrentUser=_useContext.setCurrentUser;console.debug(\"expenses\",\"expenses=\",expenses);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{title:\"Expense History\"}),/*#__PURE__*/_jsx(Button,{style:{float:'right'},href:\"/expenses/add\",children:\"Add New Expense\"}),/*#__PURE__*/_jsx(Box,{sx:{minWidth:800},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Amount($)\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Detail\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Edit\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:expenses.map(function(expense){return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:expense.category.toUpperCase()}),/*#__PURE__*/_jsx(TableCell,{children:expense.amount}),/*#__PURE__*/_jsx(TableCell,{children:expense.detail}),/*#__PURE__*/_jsx(TableCell,{children:expense.date.substring(0,10)}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{href:\"/expenses/\".concat(currentUser.user.username,\"/\").concat(expense.id),children:\"Edit\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{onClick:/*#__PURE__*/function(){var _deleteExpense=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return LedgerApi.deleteExpense(currentUser.user.username,expense.id);case 3:window.location.reload();case 4:case\"end\":return _context.stop();}}},_callee);}));function deleteExpense(_x){return _deleteExpense.apply(this,arguments);}return deleteExpense;}(),children:\"Delete\"})})]},expense.id);})})]})})]})});}export default ExpenseCardList;","map":{"version":3,"names":["React","useContext","ExpenseCard","Box","Button","Card","CardHeader","Table","TableBody","TableCell","TableHead","TableRow","TableSortLabel","Tooltip","UserContext","LedgerApi","ExpenseCardList","expenses","currentUser","setCurrentUser","console","debug","float","minWidth","map","expense","category","toUpperCase","amount","detail","date","substring","user","username","id","evt","preventDefault","deleteExpense","window","location","reload"],"sources":["/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/frontend/src/expenses/ExpenseCardList.js"],"sourcesContent":["import React,{useContext} from 'react';\nimport ExpenseCard from './ExpenseCard';\nimport {\n    Box,\n    Button,\n    Card,\n    CardHeader,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    TableSortLabel,\n    Tooltip\n  } from '@mui/material';\n  import UserContext from '../auth/UserContext';\n  import LedgerApi from '../Api/api';\n\n\nfunction ExpenseCardList({expenses}){\n    const {currentUser, setCurrentUser} = useContext(UserContext);\n\n    console.debug(\"expenses\",\"expenses=\",expenses);\n\n    return (\n        <div>\n            {/* {expenses.map(expense =>(\n                <div>\n                <ExpenseCard \n                    key ={expense.id}\n                    id={expense.id}\n                    amount={expense.amount}\n                    category={expense.category}\n                    detail={expense.detail}\n                    date={expense.date}\n                /> */}\n\n                <Card >\n                    <CardHeader title=\"Expense History\" />\n                    <Button style={{float: 'right'}} href={`/expenses/add`}>Add New Expense</Button>\n                    {/* <PerfectScrollbar> */}\n                    <Box sx={{ minWidth: 800 }}>\n                        <Table>\n                        <TableHead>\n                            <TableRow>\n                            <TableCell>\n                                Category\n                            </TableCell>\n                            <TableCell>\n                                Amount($)\n                            </TableCell>\n                            <TableCell >\n                                Detail\n                            </TableCell>\n                            <TableCell>\n                                Date\n                            </TableCell>\n                            <TableCell>\n                                Edit\n                            </TableCell>\n                            <TableCell>\n                                Delete\n                            </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {expenses.map((expense) => (\n                            <TableRow\n                                hover\n                                key={expense.id}\n                            >\n                                <TableCell>\n                                {expense.category.toUpperCase()}\n                                </TableCell>\n                                <TableCell>\n                                {expense.amount}\n                                </TableCell>\n                                <TableCell>\n                                {expense.detail}\n                                </TableCell>\n                                <TableCell>\n                                {expense.date.substring(0,10)}\n                                </TableCell>\n                                <TableCell>\n                                <Button href={`/expenses/${currentUser.user.username}/${expense.id}`}>Edit</Button>\n                                </TableCell>\n                                <TableCell>\n                                <Button onClick={async function deleteExpense(evt){\n                                                evt.preventDefault();\n                                                await LedgerApi.deleteExpense(currentUser.user.username,expense.id);\n                                                window.location.reload();\n                                            }}>Delete</Button>\n                                </TableCell>\n                            </TableRow>\n                            ))}\n                        </TableBody>\n                        </Table>\n                    </Box>\n                </Card>\n                {/* </div>\n            ))} */}\n\n        </div>\n    )\n\n}\n\nexport default ExpenseCardList;"],"mappings":"uTAAA,MAAOA,CAAAA,KAAP,EAAcC,UAAd,KAA+B,OAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OACIC,GADJ,CAEIC,MAFJ,CAGIC,IAHJ,CAIIC,UAJJ,CAKIC,KALJ,CAMIC,SANJ,CAOIC,SAPJ,CAQIC,SARJ,CASIC,QATJ,CAUIC,cAVJ,CAWIC,OAXJ,KAYS,eAZT,CAaE,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,wFAGF,QAASC,CAAAA,eAAT,MAAoC,IAAVC,CAAAA,QAAU,MAAVA,QAAU,CAChC,gBAAsChB,UAAU,CAACa,WAAD,CAAhD,CAAOI,WAAP,aAAOA,WAAP,CAAoBC,cAApB,aAAoBA,cAApB,CAEAC,OAAO,CAACC,KAAR,CAAc,UAAd,CAAyB,WAAzB,CAAqCJ,QAArC,EAEA,mBACI,kCAYQ,MAAC,IAAD,yBACI,KAAC,UAAD,EAAY,KAAK,CAAC,iBAAlB,EADJ,cAEI,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACK,KAAK,CAAE,OAAR,CAAf,CAAiC,IAAI,gBAArC,6BAFJ,cAII,KAAC,GAAD,EAAK,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAZ,CAAT,uBACI,MAAC,KAAD,yBACA,KAAC,SAAD,wBACI,MAAC,QAAD,yBACA,KAAC,SAAD,uBADA,cAIA,KAAC,SAAD,wBAJA,cAOA,KAAC,SAAD,qBAPA,cAUA,KAAC,SAAD,mBAVA,cAaA,KAAC,SAAD,mBAbA,cAgBA,KAAC,SAAD,qBAhBA,GADJ,EADA,cAuBA,KAAC,SAAD,WACKN,QAAQ,CAACO,GAAT,CAAa,SAACC,OAAD,qBACd,MAAC,QAAD,EACI,KAAK,KADT,wBAII,KAAC,SAAD,WACCA,OAAO,CAACC,QAAR,CAAiBC,WAAjB,EADD,EAJJ,cAOI,KAAC,SAAD,WACCF,OAAO,CAACG,MADT,EAPJ,cAUI,KAAC,SAAD,WACCH,OAAO,CAACI,MADT,EAVJ,cAaI,KAAC,SAAD,WACCJ,OAAO,CAACK,IAAR,CAAaC,SAAb,CAAuB,CAAvB,CAAyB,EAAzB,CADD,EAbJ,cAgBI,KAAC,SAAD,wBACA,KAAC,MAAD,EAAQ,IAAI,qBAAeb,WAAW,CAACc,IAAZ,CAAiBC,QAAhC,aAA4CR,OAAO,CAACS,EAApD,CAAZ,kBADA,EAhBJ,cAmBI,KAAC,SAAD,wBACA,KAAC,MAAD,EAAQ,OAAO,oGAAE,iBAA6BC,GAA7B,kHACDA,GAAG,CAACC,cAAJ,GADC,sBAEKrB,CAAAA,SAAS,CAACsB,aAAV,CAAwBnB,WAAW,CAACc,IAAZ,CAAiBC,QAAzC,CAAkDR,OAAO,CAACS,EAA1D,CAFL,QAGDI,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAHC,sDAAF,WAAiBH,CAAAA,aAAjB,wDAAiBA,CAAAA,aAAjB,IAAf,oBADA,EAnBJ,GAESZ,OAAO,CAACS,EAFjB,CADc,EAAb,CADL,EAvBA,GADJ,EAJJ,GAZR,EADJ,CAiFH,CAED,cAAelB,CAAAA,eAAf"},"metadata":{},"sourceType":"module"}