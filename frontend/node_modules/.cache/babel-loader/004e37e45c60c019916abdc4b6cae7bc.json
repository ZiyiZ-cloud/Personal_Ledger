{"ast":null,"code":"import _asyncToGenerator from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import LedgerApi from'../Api/api';import{useNavigate}from'react-router';import UserContext from'../auth/UserContext';import{useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ExpenseCard(_ref){var id=_ref.id,amount=_ref.amount,category=_ref.category,detail=_ref.detail,date=_ref.date;var history=useNavigate();var _useContext=useContext(UserContext),currentUser=_useContext.currentUser,setCurrentUser=_useContext.setCurrentUser;function deleteExpense(_x){return _deleteExpense.apply(this,arguments);}function _deleteExpense(){_deleteExpense=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return LedgerApi.deleteExpense(currentUser.user.username,id);case 3:window.location.reload();case 4:case\"end\":return _context.stop();}}},_callee);}));return _deleteExpense.apply(this,arguments);}function editExpense(_x2){return _editExpense.apply(this,arguments);}function _editExpense(){_editExpense=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(evt){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:evt.preventDefault();history(\"/expenses/\".concat(currentUser.user.username,\"/\").concat(id));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _editExpense.apply(this,arguments);}var Category=category.toUpperCase();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:deleteExpense,children:\"X\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:Category}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Amount: $\",amount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Detail: \",detail]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",date]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:editExpense,children:\"Edit\"})})]});}export default ExpenseCard;","map":{"version":3,"names":["React","LedgerApi","useNavigate","UserContext","useContext","ExpenseCard","id","amount","category","detail","date","history","currentUser","setCurrentUser","deleteExpense","evt","preventDefault","user","username","window","location","reload","editExpense","Category","toUpperCase"],"sources":["/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/src/expenses/ExpenseCard.js"],"sourcesContent":["import React from 'react';\nimport LedgerApi from '../Api/api';\nimport {useNavigate} from 'react-router';\nimport UserContext from '../auth/UserContext';\nimport {useContext} from 'react';\n\nfunction ExpenseCard({id,amount, category,detail,date}){\n\n    const history = useNavigate();\n    const {currentUser, setCurrentUser} = useContext(UserContext);\n    \n\n    async function deleteExpense(evt){\n        evt.preventDefault();\n        await LedgerApi.deleteExpense(currentUser.user.username,id);\n        window.location.reload();\n    }\n\n    async function editExpense(evt){\n        evt.preventDefault();\n        history(`/expenses/${currentUser.user.username}/${id}`);\n    }\n\n    const Category = category.toUpperCase();\n    return (\n        <div>\n        <div><button onClick={deleteExpense}>X</button></div>\n        <div>\n            <h6>{Category}</h6>\n            <p>Amount: ${amount}</p>\n            <p>Detail: {detail}</p>\n            <p>Date: {date}</p>\n        </div>\n        <div><button onClick={editExpense}>Edit</button></div>\n        </div>\n    )\n\n}\n\nexport default ExpenseCard;"],"mappings":"qTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,OAAQC,WAAR,KAA0B,cAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,OAAQC,UAAR,KAAyB,OAAzB,C,wFAEA,QAASC,CAAAA,WAAT,MAAuD,IAAjCC,CAAAA,EAAiC,MAAjCA,EAAiC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,QAAsB,MAAtBA,QAAsB,CAAbC,MAAa,MAAbA,MAAa,CAANC,IAAM,MAANA,IAAM,CAEnD,GAAMC,CAAAA,OAAO,CAAGT,WAAW,EAA3B,CACA,gBAAsCE,UAAU,CAACD,WAAD,CAAhD,CAAOS,WAAP,aAAOA,WAAP,CAAoBC,cAApB,aAAoBA,cAApB,CAHmD,QAMpCC,CAAAA,aANoC,mJAMnD,iBAA6BC,GAA7B,kHACIA,GAAG,CAACC,cAAJ,GADJ,sBAEUf,CAAAA,SAAS,CAACa,aAAV,CAAwBF,WAAW,CAACK,IAAZ,CAAiBC,QAAzC,CAAkDZ,EAAlD,CAFV,QAGIa,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAHJ,sDANmD,wDAYpCC,CAAAA,WAZoC,8IAYnD,kBAA2BP,GAA3B,sHACIA,GAAG,CAACC,cAAJ,GACAL,OAAO,qBAAcC,WAAW,CAACK,IAAZ,CAAiBC,QAA/B,aAA2CZ,EAA3C,EAAP,CAFJ,wDAZmD,8CAiBnD,GAAMiB,CAAAA,QAAQ,CAAGf,QAAQ,CAACgB,WAAT,EAAjB,CACA,mBACI,oCACA,kCAAK,eAAQ,OAAO,CAAEV,aAAjB,eAAL,EADA,cAEA,oCACI,oBAAKS,QAAL,EADJ,cAEI,iCAAahB,MAAb,GAFJ,cAGI,gCAAYE,MAAZ,GAHJ,cAII,8BAAUC,IAAV,GAJJ,GAFA,cAQA,kCAAK,eAAQ,OAAO,CAAEY,WAAjB,kBAAL,EARA,GADJ,CAaH,CAED,cAAejB,CAAAA,WAAf"},"metadata":{},"sourceType":"module"}