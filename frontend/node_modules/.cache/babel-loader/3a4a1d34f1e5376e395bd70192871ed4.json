{"ast":null,"code":"import _defineProperty from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Alert from\"../common/Alert\";import Avatar from'@mui/material/Avatar';import Button from'@mui/material/Button';import CssBaseline from'@mui/material/CssBaseline';import TextField from'@mui/material/TextField';import FormControlLabel from'@mui/material/FormControlLabel';import Checkbox from'@mui/material/Checkbox';import Link from'@mui/material/Link';import Paper from'@mui/material/Paper';import Box from'@mui/material/Box';import Grid from'@mui/material/Grid';import Typography from'@mui/material/Typography';import{createTheme,ThemeProvider}from'@mui/material/styles';import image from'../image/signin-1.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theme=createTheme();function LoginForm(_ref){var login=_ref.login;var history=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];console.debug(\"LoginForm\",\"login=\",typeof login,\"formData=\",formData,\"formErrors=\",formErrors);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login(formData);case 3:result=_context.sent;if(result.success){history(\"/\");}else{setFormErrors(result.errors);}case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(l){return _objectSpread(_objectSpread({},l),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",sx:{height:'100vh'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,sx:{backgroundImage:'url(https://source.unsplash.com/random)',// backgroundImage: `url(${image})`,\nbackgroundRepeat:'no-repeat',backgroundColor:function backgroundColor(t){return t.palette.mode==='light'?t.palette.grey[50]:t.palette.grey[900];},backgroundSize:'cover',backgroundPosition:'center'}}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true,children:/*#__PURE__*/_jsxs(Box,{sx:{my:8,mx:4,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{m:1,bgcolor:'secondary.main'}}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,onSubmit:handleSubmit,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",fullWidth:true,id:\"username\",label:\"Username\",type:\"text\",autoFocus:true,value:formData.username,onChange:handleChange,name:\"username\",autoComplete:\"username\",required:true}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},onSubmit:handleSubmit,children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/register\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})})]})]})})]})})});}export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","Alert","Avatar","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Paper","Box","Grid","Typography","createTheme","ThemeProvider","image","theme","LoginForm","login","history","username","password","formData","setFormData","formErrors","setFormErrors","console","debug","handleSubmit","e","preventDefault","result","success","errors","handleChange","target","name","value","l","height","backgroundImage","backgroundRepeat","backgroundColor","t","palette","mode","grey","backgroundSize","backgroundPosition","my","mx","display","flexDirection","alignItems","m","bgcolor","mt","length","mb"],"sources":["/Users/ziyizhang/Desktop/springboard/heroku/personal_ledger/fronend/src/auth/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Checkbox from '@mui/material/Checkbox';\nimport Link from '@mui/material/Link';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport image from '../image/signin-1.jpeg';\n\nconst theme = createTheme();\n\n\nfunction LoginForm({login}){\n    const history = useNavigate();\n    const [formData,setFormData] = useState({\n        username:\"\",\n        password:\"\",\n    });\n\n    const [formErrors,setFormErrors] = useState([])\n\n    console.debug(\n        \"LoginForm\",\n        \"login=\", typeof login,\n        \"formData=\", formData,\n        \"formErrors=\", formErrors,\n    );\n\n    async function handleSubmit(e){\n        e.preventDefault();\n        let result = await login(formData);\n        if(result.success){\n            history(`/`);\n        }else{\n            setFormErrors(result.errors);\n        }\n    }\n\n    function handleChange(e){\n        const {name,value} = e.target;\n        setFormData(l =>({...l,[name]:value}))\n    }\n\n    return (\n      <div>\n        {/* <div className=\"LoginForm\">\n          <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n            <h3 className=\"mb-3\">Log In</h3>\n  \n            <div className=\"card\">\n              <div className=\"card-body\">\n                <form onSubmit={handleSubmit}>\n                  <div className=\"form-group\">\n                    <label>Username</label>\n                    <input\n                        name=\"username\"\n                        className=\"form-control\"\n                        value={formData.username}\n                        onChange={handleChange}\n                        autoComplete=\"username\"\n                        required\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Password</label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        className=\"form-control\"\n                        value={formData.password}\n                        onChange={handleChange}\n                        autoComplete=\"current-password\"\n                        required\n                    />\n                  </div>\n  \n                  {formErrors.length\n                      ? <Alert type=\"danger\" messages={formErrors} />\n                      : null}\n  \n                  <button\n                      className=\"btn btn-primary float-right\"\n                      onSubmit={handleSubmit}\n                  >\n                    Submit\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div> */}\n    <ThemeProvider theme={theme}>\n      <Grid container component=\"main\" sx={{ height: '100vh' }}>\n        <CssBaseline />\n        <Grid\n          item\n          xs={false}\n          sm={4}\n          md={7}\n          sx={{\n            backgroundImage: 'url(https://source.unsplash.com/random)',\n            // backgroundImage: `url(${image})`,\n            backgroundRepeat: 'no-repeat',\n            backgroundColor: (t) =>\n              t.palette.mode === 'light' ? t.palette.grey[50] : t.palette.grey[900],\n            backgroundSize: 'cover',\n            backgroundPosition: 'center',\n          }}\n        />\n        <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n          <Box\n            sx={{\n              my: 8,\n              mx: 4,\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Sign in\n            </Typography>\n            <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 1 }}>\n              <TextField\n                margin=\"normal\"\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                type='text'\n                autoFocus\n                value={formData.username}\n                onChange={handleChange}\n                name=\"username\"\n                autoComplete=\"username\"\n                required\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={formData.password}\n                onChange={handleChange}\n              />\n               {formErrors.length\n                      ? <Alert type=\"danger\" messages={formErrors} />\n                      : null}\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                sx={{ mt: 3, mb: 2 }}\n                onSubmit={handleSubmit}\n              >\n                Sign In\n              </Button>\n              <Grid container>\n                <Grid item>\n                  <Link href=\"/register\" variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                </Grid>\n              </Grid>\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n\n    </div>\n    );\n}\n\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}